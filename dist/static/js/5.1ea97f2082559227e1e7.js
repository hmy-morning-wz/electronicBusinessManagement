webpackJsonp([5],{100:function(t,e,r){"use strict";var i,a,o,s=r(109),n=r(73),l=r(76),c=r(79),u=r(21),d=r(108),m=r(81),f=r(89),v=r(90),p=r(98),g=r(80).set,h=r(95)(),b="Promise",y=n.TypeError,_=n.process,P=n[b],S="process"==c(_=n.process),x=function(){},F=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[r(71)("species")]=function(t){t(x,x)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(x)instanceof e}catch(t){}}(),w=function(t,e){return t===e||t===P&&e===o},C=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},k=function(t){return w(P,t)?new L(t):new a(t)},L=a=function(t){var e,r;this.promise=new t(function(t,i){if(void 0!==e||void 0!==r)throw y("Bad Promise constructor");e=t,r=i}),this.resolve=m(e),this.reject=m(r)},I=function(t){try{t()}catch(t){return{error:t}}},$=function(t,e){if(!t._n){t._n=!0;var r=t._c;h(function(){for(var i=t._v,a=1==t._s,o=0,s=function(e){var r,o,s=a?e.ok:e.fail,n=e.resolve,l=e.reject,c=e.domain;try{s?(a||(2==t._h&&A(t),t._h=1),!0===s?r=i:(c&&c.enter(),r=s(i),c&&c.exit()),r===e.promise?l(y("Promise-chain cycle")):(o=C(r))?o.call(r,n,l):n(r)):l(i)}catch(t){l(t)}};r.length>o;)s(r[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){g.call(n,function(){var e,r,i,a=t._v;if(T(t)&&(e=I(function(){S?_.emit("unhandledRejection",a,t):(r=n.onunhandledrejection)?r({promise:t,reason:a}):(i=n.console)&&i.error&&i.error("Unhandled promise rejection",a)}),t._h=S||T(t)?2:1),t._a=void 0,e)throw e.error})},T=function(t){if(1==t._h)return!1;for(var e,r=t._a||t._c,i=0;r.length>i;)if((e=r[i++]).fail||!T(e.promise))return!1;return!0},A=function(t){g.call(n,function(){var e;S?_.emit("rejectionHandled",t):(e=n.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),$(e,!0))},j=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw y("Promise can't be resolved itself");(e=C(t))?h(function(){var i={_w:r,_d:!1};try{e.call(t,l(j,i,1),l(D,i,1))}catch(t){D.call(i,t)}}):(r._v=t,r._s=1,$(r,!1))}catch(t){D.call({_w:r,_d:!1},t)}}};F||(P=function(t){f(this,P,b,"_h"),m(t),i.call(this);try{t(l(j,this,1),l(D,this,1))}catch(t){D.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(96)(P.prototype,{then:function(t,e){var r=k(p(this,P));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=S?_.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&$(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),L=function(){var t=new i;this.promise=t,this.resolve=l(j,t,1),this.reject=l(D,t,1)}),u(u.G+u.W+u.F*!F,{Promise:P}),r(110)(P,b),r(97)(b),o=r(4)[b],u(u.S+u.F*!F,b,{reject:function(t){var e=k(this);return(0,e.reject)(t),e.promise}}),u(u.S+u.F*(s||!F),b,{resolve:function(t){if(t instanceof P&&w(t.constructor,this))return t;var e=k(this);return(0,e.resolve)(t),e.promise}}),u(u.S+u.F*!(F&&r(94)(function(t){P.all(t).catch(x)})),b,{all:function(t){var e=this,r=k(e),i=r.resolve,a=r.reject,o=I(function(){var r=[],o=0,s=1;v(t,!1,function(t){var n=o++,l=!1;r.push(void 0),s++,e.resolve(t).then(function(t){l||(l=!0,r[n]=t,--s||i(r))},a)}),--s||i(r)});return o&&a(o.error),r.promise},race:function(t){var e=this,r=k(e),i=r.reject,a=I(function(){v(t,!1,function(t){e.resolve(t).then(r.resolve,i)})});return a&&i(a.error),r.promise}})},101:function(t,e,r){t.exports=r(0)(10)},102:function(t,e,r){t.exports=r(0)(119)},103:function(t,e,r){t.exports=r(0)(130)},104:function(t,e,r){t.exports=r(0)(143)},105:function(t,e,r){t.exports=r(0)(146)},106:function(t,e,r){t.exports=r(0)(147)},107:function(t,e,r){t.exports=r(0)(151)},108:function(t,e,r){t.exports=r(0)(19)},109:function(t,e,r){t.exports=r(0)(28)},110:function(t,e,r){t.exports=r(0)(30)},111:function(t,e,r){t.exports=r(0)(55)},112:function(t,e,r){t.exports=r(0)(74)},115:function(t,e,r){t.exports={default:r(117),__esModule:!0}},116:function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(115));e.default=function(t,e,r){return e in t?(0,i.default)(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},117:function(t,e,r){r(118);var i=r(4).Object;t.exports=function(t,e,r){return i.defineProperty(t,e,r)}},118:function(t,e,r){var i=r(21);i(i.S+i.F*!r(84),"Object",{defineProperty:r(83).f})},121:function(t,e,r){"use strict";var i=r(75),a=r.n(i),o=r(74),s=(r(72),r(72)),n=o.a.nethost;e.a={addActivitySpike:function(t){var e=n+"operation-mall/activityPerSale/addActivityPerSale";return r.i(s.a)(e,t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},updateActivitySpike:function(t){var e=n+"operation-mall/activityPerSale/updateActivityPerSale";return r.i(s.a)(e,t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},getStatus:function(){var t=n+"operation-mall/activitySpike/getStatusList";return r.i(s.b)(t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},getTableList:function(t){var e=n+"operation-mall/activityPerSale/getActivityPerSaleList";return r.i(s.a)(e,t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},upataStatus:function(t){var e=n+"operation-mall/activityPerSale/updateActivityPerSaleStatus";return r.i(s.a)(e,t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},getActivitySpikeDetail:function(t){var e=n+"operation-mall/activityPerSale/getActivityPerSaleDetail?id="+t;return r.i(s.a)(e).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},getDetails:function(t){var e=n+"operation-mall/goods/getGoodsDetail?id="+t;return r.i(s.a)(e).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},getSku:function(t){var e=n+"operation-mall/activityPerSale/getPerSaleGoodsStockDetail";return r.i(s.a)(e,t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})}}},131:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=r(116),o=r.n(a),s=r(86),n=r.n(s),l=r(121);e.default={data:function(){var t=this;return{title:"",disable:!1,limit:!1,labelsTypeOptions:[],imagePath:"",buttonStatus:0,redText:"",inventoryClass:"",isUpdate:!1,tableForm:{id:null,goods:"1",goodsPerSaleList:[]},rules:{gmtPerSaleStart:[{required:!0,message:"请选择开始时间",trigger:"change"}],gmtPerSaleEnd:[{required:!0,message:"请选择结束时间",trigger:"change"}],gmtFinalPaymentStart:[{required:!0,message:"请选择尾款开始时间",trigger:"change"}],gmtActivityEnd:[{required:!0,message:"请选择尾款结束时间",trigger:"change"}],name:[{required:!0,message:"请输入活动名称",trigger:"blur"}],goods:[{required:!0,message:"请输入标签名称"}],tagDesc:[{required:!0,message:"请输入标签描述",trigger:"blur"}],imgPic:[{required:!0,message:"请上传图片",trigger:"blur"}]},goodsPerSaleList:{goodsId:[{required:!0,message:"请输入商品ID",trigger:"blur"}],skuId:[{required:!0,message:"请输入sku编码",trigger:"blur"}],activityPrice:[{required:!0,message:"请输入活动价",trigger:"blur"},{type:"number",min:0,message:"活动价不能小于0",trigger:"blur"}],activeInventory:[{required:!0,message:"请输入活动库存",trigger:"blur"},{type:"number",min:0,message:"活动库存不能小于0",trigger:"blur"}],prepaidPrice:[{required:!0,message:"请输入预付金额",trigger:"blur"},{type:"number",min:0,message:"预付金额不能小于0",trigger:"blur"}],offsetPrice:[{required:!0,message:"请输入抵用金额",trigger:"blur"},{type:"number",min:0,message:"抵用金额不能小于0",trigger:"blur"}],limitPurchaseCount:[{type:"number",message:"限购数量不能小于1",trigger:"blur",required:!1,validator:function(t,e,r){(null!=e&&""!=e||0===e)&&(0==/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/.test(e)||0===e)?r(new Error("请填写大于0的数字")):r()},min:1}]},pickerOptions0:{disabledDate:function(e){return!(!t.tableForm.gmtPerSaleEnd||""==t.tableForm.gmtPerSaleEnd)&&e.getTime()>new Date(t.tableForm.gmtEnd.replace(/-/g,"/")).getTime()}},pickerOptions1:{disabledDate:function(e){return!(!t.tableForm.gmtPerSaleStart||""==t.tableForm.gmtPerSaleStart)&&e.getTime()<new Date(t.tableForm.gmtPerSaleStart.replace(/-/g,"/")).getTime()}},pickerOptions2:{disabledDate:function(e){if(t.tableForm.gmtActivityEnd&&""!=t.tableForm.gmtActivityEnd){return e.getTime()>new Date(t.tableForm.gmtEnd.replace(/-/g,"/")).getTime()||e.getTime()<new Date(t.tableForm.gmtEnd.replace(/-/g,"/")).getTime()-12096e5}return!1}},pickerOptions3:{disabledDate:function(e){if(t.tableForm.gmtFinalPaymentStart&&""!=t.tableForm.gmtFinalPaymentStart){return e.getTime()<new Date(t.tableForm.gmtFinalPaymentStart.replace(/-/g,"/")).getTime()||e.getTime()>new Date(t.tableForm.gmtFinalPaymentStart.replace(/-/g,"/")).getTime()+12096e5}return!1}}}},created:function(){var t=this.$route.name||"",e=this.$route.query.id||"";console.log("id===",e),this.tableForm.id=e,"addAdvance"===t?this.title="新建预售活动":"checkAdvance"===t?(this.title="查看预售活动",this.getDetails(t)):"updateAdvance"===t&&(this.title="编辑预售活动",this.getDetails(t))},methods:(i={activityPrice:function(t,e){return t.activityPrice<t.costPrice?"red_color":""},inventoryFocus:function(t,e){return t.remainCount<t.activeInventory?"red_color":""},number:function(t){var e=window.event?t.keyCode:t.which;String.fromCharCode(e);189!=e&&190!=e&&110!=e&&109!=e||(this.$message.warning("禁止输入小数以及负数"),t.target.value="")},getSku:function(t){var e=this,r={activityId:this.tableForm.id,goodsId:this.tableForm.goodsPerSaleList[t].goodsId,skuId:this.tableForm.goodsPerSaleList[t].skuId},i=this.handparams(r);l.a.getSku(i).then(function(r){"20000"===r.code&&r.data?(e.tableForm.goodsPerSaleList[t].specificationsOne=r.data.specificationsOne,e.tableForm.goodsPerSaleList[t].specificationsTwo=r.data.specificationsTwo,e.tableForm.goodsPerSaleList[t].costPrice=r.data.costPrice,e.tableForm.goodsPerSaleList[t].remainCount=r.data.remainCount):(e.tableForm.goodsPerSaleList[t].specificationsOne="找不到",e.tableForm.goodsPerSaleList[t].specificationsTwo="找不到",e.tableForm.goodsPerSaleList[t].costPrice="找不到",e.tableForm.goodsPerSaleList[t].remainCount="找不到",e.tableForm.goodsPerSaleList[t].skuId="",e.$message.error("获取sku信息失败!"))},function(r){e.tableForm.goodsPerSaleList[t].specificationsOne="找不到",e.tableForm.goodsPerSaleList[t].specificationsTwo="找不到",e.tableForm.goodsPerSaleList[t].costPrice="找不到",e.tableForm.goodsPerSaleList[t].remainCount="找不到",e.tableForm.goodsPerSaleList[t].skuId="",e.$message.error("获取sku信息失败!")})},getGoodName:function(t){var e=this,r=this.tableForm.goodsPerSaleList[t].goodsId;l.a.getDetails(r).then(function(r){"20000"===r.code&&r.data?e.tableForm.goodsPerSaleList[t].goodsName=r.data.name:(e.tableForm.goodsPerSaleList[t].goodsName="找不到",e.tableForm.goodsPerSaleList[t].goodsId="",e.$message.error("获取商品名称失败!"))},function(r){e.tableForm.goodsPerSaleList[t].goodsName="找不到",e.tableForm.goodsPerSaleList[t].goodsId="",e.$message.error("获取商品名称失败!")})},properDel:function(t){t>-1&&this.tableForm.goodsPerSaleList.splice(t,1)},submitForm:function(t){var e=this;this.tableForm.goods="1",this.$refs[t].validate(function(t){if(!t)return!1;for(var r=!0,i=0;i<e.tableForm.goodsPerSaleList.length;i++){var a=e.tableForm.goodsPerSaleList[i];if(a.prepaidPrice>=a.activityPrice){r=!1;break}}if(r){for(var o=!0,s=!0,n=0;n<e.tableForm.goodsPerSaleList.length;n++){var l=e.tableForm.goodsPerSaleList[n];if(l.offsetPrice<l.prepaidPrice){o=!1;break}l.offsetPrice>=l.activityPrice&&(s=!1)}o?s?e.commitInfo():e.$message.error("抵用金额不允许大于等于活动价"):e.$message.error("抵用金额不允许小于预付金额")}else e.$message.error("预付金额不允许大于等于活动价")})},cancel:function(){this.$router.go(-1)},properAdd:function(){this.tableForm.goodsPerSaleList.push({goodsId:null,skuId:null,activityPrice:null,activeInventory:null,limitPurchaseCount:null,goodsName:null,specificationsOne:null,specificationsTwo:null,costPrice:null,remainCount:null})}},o()(i,"cancel",function(){this.$router.go(-1)}),o()(i,"commitInfo",function(){var t=this;this.tableForm.goods="";var e=this.handparams(this.tableForm);"addAdvance"===(this.$route.name||"")?l.a.addActivitySpike(e).then(function(e){"20000"===e.code?t.$router.go(-1):t.$message.error(e.message||e.subMsg||e.msg||"新增活动失败!")},function(e){t.$message.error(e.message||e.subMsg||e.msg||"请求服务器失败!")}):l.a.updateActivitySpike(e).then(function(e){"20000"===e.code?t.$router.go(-1):t.$message.error(e.message||e.subMsg||e.msg||"编辑活动失败!")},function(e){t.$message.error(e.message||e.subMsg||e.msg||"请求服务器失败!")})}),o()(i,"getDetails",function(t){var e=this,r=this.tableForm.id;l.a.getActivitySpikeDetail(r).then(function(r){var i=r.data||"";e.tableForm=i,2===e.tableForm.status||3===e.tableForm.status?(e.disable=!0,e.limit=!1):e.limit=!0,"checkAdvance"===t&&(e.limit=!0,e.disable=!0)},function(t){e.$message.error(t.subMsg||t.message||t.msg||"请求服务器连接失败!")})}),o()(i,"handparams",function(t){return JSON.parse(n()(t))}),i)}},168:function(t,e,r){(t.exports=r(1)(!1)).push([t.i,".avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar{width:178px;height:178px;display:block}.red_color .el-input__inner{color:#ff4040}",""])},193:function(t,e,r){var i=r(168);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);r(2)("65160c3d",i,!0)},220:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"overflow-x":"scroll",height:"100%"}},[r("el-scrollbar",{staticStyle:{height:"100%"}},[[r("div",[r("el-row",{staticClass:"mr20"},[r("el-col",{attrs:{span:24}},[r("span",{staticClass:"float-left ml20 mt20"},[t._v(t._s(t.title))])]),t._v(" "),r("el-col",{attrs:{span:24}},[r("span",{staticClass:"float-left ml20 mt20"},[t._v("活动ID：")]),t._v(" "),r("span",{staticClass:"float-left ml20 mt20"},[t._v(t._s(t.tableForm.id))])])],1)],1)],t._v(" "),[r("div",{staticStyle:{display:"flex","margin-top":"10px"}},[r("el-form",{ref:"tableForm",staticStyle:{margin:"auto"},attrs:{"label-width":"120px",model:t.tableForm,rules:t.rules}},[r("div",{staticClass:"flex"},[r("div",[r("el-form-item",{staticClass:"w360",attrs:{label:"预售开始时间：",prop:"gmtPerSaleStart"}},[r("el-date-picker",{attrs:{disabled:t.disable,type:"datetime",placeholder:"预售开始时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions0},model:{value:t.tableForm.gmtPerSaleStart,callback:function(e){t.$set(t.tableForm,"gmtPerSaleStart",e)},expression:"tableForm.gmtPerSaleStart"}})],1)],1),t._v(" "),r("div",[r("el-form-item",{staticClass:"w360",attrs:{label:"预售结束时间：",prop:"gmtPerSaleEnd"}},[r("el-date-picker",{attrs:{disabled:t.disable,type:"datetime",placeholder:"预售结束时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions1},model:{value:t.tableForm.gmtPerSaleEnd,callback:function(e){t.$set(t.tableForm,"gmtPerSaleEnd",e)},expression:"tableForm.gmtPerSaleEnd"}})],1)],1),t._v(" "),r("div",[r("el-form-item",{staticClass:"w360",attrs:{label:"尾款开始时间：",prop:"gmtFinalPaymentStart"}},[r("el-date-picker",{attrs:{disabled:t.disable,type:"datetime",placeholder:"尾款开始时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions2},model:{value:t.tableForm.gmtFinalPaymentStart,callback:function(e){t.$set(t.tableForm,"gmtFinalPaymentStart",e)},expression:"tableForm.gmtFinalPaymentStart"}})],1)],1),t._v(" "),r("div",[r("el-form-item",{staticClass:"w360",attrs:{label:"尾款结束时间：",prop:"gmtActivityEnd"}},[r("el-date-picker",{attrs:{disabled:t.disable,type:"datetime",placeholder:"尾款结束时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions3},model:{value:t.tableForm.gmtActivityEnd,callback:function(e){t.$set(t.tableForm,"gmtActivityEnd",e)},expression:"tableForm.gmtActivityEnd"}})],1)],1)]),t._v(" "),r("el-form-item",{attrs:{label:"活动名称：",prop:"name"}},[r("el-input",{staticClass:"w240 mr20",attrs:{disabled:t.disable,placeholder:"活动名称"},model:{value:t.tableForm.name,callback:function(e){t.$set(t.tableForm,"name",e)},expression:"tableForm.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"活动描述："}},[r("el-input",{staticClass:"w500 mr20",attrs:{disabled:t.disable,placeholder:"活动描述",type:"textarea"},model:{value:t.tableForm.description,callback:function(e){t.$set(t.tableForm,"description",e)},expression:"tableForm.description"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"活动商品：",prop:"goods"}},[[r("div",{staticStyle:{display:"flex","margin-top":"40px",width:"100%"}},[r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120 flex"},[r("div",{staticClass:"color_red"},[t._v("*")]),t._v("商品ID")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120"},[t._v("商品名称")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120 flex"},[r("div",{staticClass:"color_red"},[t._v("*")]),t._v("sku编码")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120"},[t._v("规格一")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120"},[t._v("规格二")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120"},[t._v("成本价")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120"},[t._v("库存")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120 flex"},[r("div",{staticClass:"color_red"},[t._v("*")]),t._v("活动价")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120 flex"},[r("div",{staticClass:"color_red"},[t._v("*")]),t._v("预付金额")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120 flex"},[r("div",{staticClass:"color_red"},[t._v("*")]),t._v("抵用金额")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120 flex"},[r("div",{staticClass:"color_red"},[t._v("*")]),t._v("活动库存")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120"},[t._v("限购数量")])]),t._v(" "),r("div",{staticClass:"float-left text-center"},[r("div",{staticClass:"w120"},[t._v("操作")])])])]],2),t._v(" "),r("el-form-item",t._l(t.tableForm.goodsPerSaleList,function(e,i){return r("div",{key:e.index,staticClass:"mb20 ml20",staticStyle:{display:"flex"}},[r("el-form-item",{staticClass:"w100 mb20 mr20",attrs:{prop:"goodsPerSaleList."+i+".goodsId",rules:t.goodsPerSaleList.goodsId}},[r("el-input",{staticClass:"w100",attrs:{disabled:t.disable,placeholder:"商品ID"},on:{blur:function(e){t.getGoodName(i)}},model:{value:e.goodsId,callback:function(r){t.$set(e,"goodsId",r)},expression:"item.goodsId"}})],1),t._v(" "),r("span",{staticClass:"w100 mr20"},[t._v(t._s(e.goodsName))]),t._v(" "),r("el-form-item",{attrs:{prop:"goodsPerSaleList."+i+".skuId",rules:t.goodsPerSaleList.skuId}},[r("el-input",{staticClass:"w100 mr20",attrs:{disabled:t.disable,placeholder:"sku编码"},on:{blur:function(e){t.getSku(i)}},model:{value:e.skuId,callback:function(r){t.$set(e,"skuId",r)},expression:"item.skuId"}})],1),t._v(" "),r("span",{staticClass:"w100 mr20"},[t._v(t._s(e.specificationsOne))]),t._v(" "),r("span",{staticClass:"w100 mr20"},[t._v(t._s(e.specificationsTwo))]),t._v(" "),r("span",{staticClass:"w100 mr20"},[t._v(t._s(e.costPrice))]),t._v(" "),r("span",{staticClass:"w100 mr20"},[t._v(t._s(e.remainCount))]),t._v(" "),r("el-form-item",{attrs:{prop:"goodsPerSaleList."+i+".activityPrice",rules:t.goodsPerSaleList.activityPrice}},[r("el-input",{staticClass:"w100 mr20",class:t.activityPrice(e,i),attrs:{disabled:t.disable,placeholder:"活动价",type:"number",blur:t.activityPrice(e,i)},model:{value:e.activityPrice,callback:function(r){t.$set(e,"activityPrice",t._n(r))},expression:"item.activityPrice"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"goodsPerSaleList."+i+".prepaidPrice",rules:t.goodsPerSaleList.prepaidPrice}},[r("el-input",{staticClass:"w100 mr20",attrs:{disabled:t.disable,placeholder:"预付金额",type:"number"},model:{value:e.prepaidPrice,callback:function(r){t.$set(e,"prepaidPrice",t._n(r))},expression:"item.prepaidPrice"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"goodsPerSaleList."+i+".offsetPrice",rules:t.goodsPerSaleList.offsetPrice}},[r("el-input",{staticClass:"w100 mr20",attrs:{disabled:t.disable,type:"number",placeholder:"抵用金额"},model:{value:e.offsetPrice,callback:function(r){t.$set(e,"offsetPrice",t._n(r))},expression:"item.offsetPrice"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"goodsPerSaleList."+i+".activeInventory",rules:t.goodsPerSaleList.activeInventory}},[r("el-input",{staticClass:"w100 mr20",class:t.inventoryFocus(e,i),attrs:{disabled:t.disable&&t.limit,placeholder:"活动库存",type:"number",blur:t.inventoryFocus(e,i)},model:{value:e.activeInventory,callback:function(r){t.$set(e,"activeInventory",t._n(r))},expression:"item.activeInventory"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"goodsPerSaleList."+i+".limitPurchaseCount",rules:t.goodsPerSaleList.limitPurchaseCount}},[r("el-input",{staticClass:"w100 mr20",attrs:{disabled:t.disable,placeholder:"限购数量",type:"number"},nativeOn:{keyup:function(e){t.number(e)}},model:{value:e.limitPurchaseCount,callback:function(r){t.$set(e,"limitPurchaseCount",t._n(r))},expression:"item.limitPurchaseCount"}})],1),t._v(" "),t.disable?t._e():r("el-button",{staticClass:"ml20",staticStyle:{background:"#F36161",color:"#333333"},attrs:{type:"danger"},on:{click:function(e){t.properDel(i)}}},[t._v("删除")])],1)})),t._v(" "),t.disable?t._e():r("el-form-item",[r("el-button",{staticClass:"mt20",attrs:{type:"danger"},on:{click:t.properAdd}},[t._v("新增sku")])],1),t._v(" "),t.disable&&t.limit?t._e():r("el-form-item",[r("el-button",{staticClass:"mt20",attrs:{type:"primary"},on:{click:function(e){t.submitForm("tableForm")}}},[t._v("提交")]),t._v(" "),r("el-button",{on:{click:function(e){t.cancel()}}},[t._v("取消")])],1)],1)],1)]],2)],1)},staticRenderFns:[]}},49:function(t,e,r){var i=r(20)(r(131),r(220),function(t){r(193)},null,null);t.exports=i.exports},71:function(t,e,r){t.exports=r(0)(12)},72:function(t,e,r){"use strict";r.d(e,"b",function(){return f}),r.d(e,"a",function(){return v});var i=r(102),a=r.n(i),o=r(75),s=r.n(o),n=r(112),l=r.n(n),c=(r(74),r(5));r.n(c),r(85),window.sessionStorage.getItem("ak")||window.localStorage.getItem("ak");window.Promise||(window.Promise=s.a);var u=function(t){var e=t.data;return e.code,0===e.code?e:2e4==e.code?e:302!==e.code&&(5===e.code&&c.Message.error("系统维护中，请稍后再试。"),s.a.reject(t.data,t))},d=function(t){return s.a.reject(t.response.data||{},t.response)},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,r=void 0===e?{}:e,i=t.params,o=void 0===i?{}:i,s=t.method,n=void 0===s?"":s,c=t.url,m=void 0===c?"":c,f=t.headers,v=void 0===f?{}:f,p={method:n,url:m,data:r,params:o,responseType:"json",withCredentials:!0};return p.headers={"Content-Type":"application/json; charset=UTF-8",access_token:function(){for(var t=(document.cookie||"x-access-token=5C832D5723B675A760DB5B7A6B901229").split("; "),e=0;e<t.length;e++){var r=t[e].split("=");if("x-access-token"==r[0])return r[1]}}()},a()(p.headers,v),a()(p.params,{_:(new Date).getTime()}),l()(p).then(u,d)},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m({url:t,method:"GET",params:e,headers:r})},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m({url:t,method:"POST",data:e,headers:r})}},73:function(t,e,r){t.exports=r(0)(5)},74:function(t,e,r){"use strict";var i={};i.netImg="//operation.allcitygo.com/",i.downHost="//operation.allcitygo.com/",i.nethost="//bmapi.allcitygo.com:13002/op/",i.netGoodDetail="//money.allcitygo.com/shopping/#/goodDetail?goodsId=",i.netImgMore="//challenge-backstage.allcitygo.com/",e.a=i},75:function(t,e,r){t.exports={default:r(88),__esModule:!0}},76:function(t,e,r){t.exports=r(0)(128)},77:function(t,e,r){t.exports=r(0)(17)},78:function(t,e,r){t.exports=r(0)(54)},79:function(t,e,r){var i=r(78),a=r(71)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?r:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},80:function(t,e,r){var i,a,o,s=r(76),n=r(91),l=r(103),c=r(111),u=r(73),d=u.process,m=u.setImmediate,f=u.clearImmediate,v=u.MessageChannel,p=0,g={},h="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},y=function(t){b.call(t.data)};m&&f||(m=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return g[++p]=function(){n("function"==typeof t?t:Function(t),e)},i(p),p},f=function(t){delete g[t]},"process"==r(78)(d)?i=function(t){d.nextTick(s(b,t,1))}:v?(o=(a=new v).port2,a.port1.onmessage=y,i=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):i=h in c("script")?function(t){l.appendChild(c("script"))[h]=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:m,clear:f}},81:function(t,e,r){t.exports=r(0)(125)},82:function(t,e,r){t.exports=r(0)(27)},83:function(t,e,r){t.exports=r(0)(11)},84:function(t,e,r){t.exports=r(0)(9)},85:function(t,e,r){"use strict";var i=r(75),a=(r.n(i),r(74));r(72),r(72),a.a.nethost},86:function(t,e,r){t.exports={default:r(87),__esModule:!0}},87:function(t,e,r){var i=r(4),a=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},88:function(t,e,r){r(105),r(106),r(107),r(100),t.exports=r(4).Promise},89:function(t,e){t.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},90:function(t,e,r){var i=r(76),a=r(93),o=r(92),s=r(77),n=r(104),l=r(99),c={},u={};(e=t.exports=function(t,e,r,d,m){var f,v,p,g,h=m?function(){return t}:l(t),b=i(r,d,e?2:1),y=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(o(h)){for(f=n(t.length);f>y;y++)if((g=e?b(s(v=t[y])[0],v[1]):b(t[y]))===c||g===u)return g}else for(p=h.call(t);!(v=p.next()).done;)if((g=a(p,b,v.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},91:function(t,e){t.exports=function(t,e,r){var i=void 0===r;switch(e.length){case 0:return i?t():t.call(r);case 1:return i?t(e[0]):t.call(r,e[0]);case 2:return i?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},92:function(t,e,r){var i=r(82),a=r(71)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[a]===t)}},93:function(t,e,r){var i=r(77);t.exports=function(t,e,r,a){try{return a?e(i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},94:function(t,e,r){var i=r(71)("iterator"),a=!1;try{var o=[7][i]();o.return=function(){a=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!a)return!1;var r=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:r=!0}},o[i]=function(){return s},t(o)}catch(t){}return r}},95:function(t,e,r){var i=r(73),a=r(80).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,n=i.Promise,l="process"==r(78)(s);t.exports=function(){var t,e,r,c=function(){var i,a;for(l&&(i=s.domain)&&i.exit();t;){a=t.fn,t=t.next;try{a()}catch(i){throw t?r():e=void 0,i}}e=void 0,i&&i.enter()};if(l)r=function(){s.nextTick(c)};else if(o){var u=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),r=function(){d.data=u=!u}}else if(n&&n.resolve){var m=n.resolve();r=function(){m.then(c)}}else r=function(){a.call(i,c)};return function(i){var a={fn:i,next:void 0};e&&(e.next=a),t||(t=a,r()),e=a}}},96:function(t,e,r){var i=r(101);t.exports=function(t,e,r){for(var a in e)r&&t[a]?t[a]=e[a]:i(t,a,e[a]);return t}},97:function(t,e,r){"use strict";var i=r(73),a=r(4),o=r(83),s=r(84),n=r(71)("species");t.exports=function(t){var e="function"==typeof a[t]?a[t]:i[t];s&&e&&!e[n]&&o.f(e,n,{configurable:!0,get:function(){return this}})}},98:function(t,e,r){var i=r(77),a=r(81),o=r(71)("species");t.exports=function(t,e){var r,s=i(t).constructor;return void 0===s||void 0==(r=i(s)[o])?e:a(r)}},99:function(t,e,r){var i=r(79),a=r(71)("iterator"),o=r(82);t.exports=r(4).getIteratorMethod=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||o[i(t)]}}});