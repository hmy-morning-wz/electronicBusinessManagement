webpackJsonp([20],{100:function(t,e,n){"use strict";var r,o,a,i=n(109),s=n(73),c=n(76),u=n(79),l=n(21),d=n(108),f=n(81),h=n(89),p=n(90),m=n(98),v=n(80).set,g=n(95)(),b="Promise",x=s.TypeError,_=s.process,w=s[b],y="process"==u(_=s.process),P=function(){},F=!!function(){try{var t=w.resolve(1),e=(t.constructor={})[n(71)("species")]=function(t){t(P,P)};return(y||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e}catch(t){}}(),j=function(t,e){return t===e||t===w&&e===a},S=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},U=function(t){return j(w,t)?new B(t):new o(t)},B=o=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw x("Bad Promise constructor");e=t,n=r}),this.resolve=f(e),this.reject=f(n)},$=function(t){try{t()}catch(t){return{error:t}}},k=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var r=t._v,o=1==t._s,a=0,i=function(e){var n,a,i=o?e.ok:e.fail,s=e.resolve,c=e.reject,u=e.domain;try{i?(o||(2==t._h&&R(t),t._h=1),!0===i?n=r:(u&&u.enter(),n=i(r),u&&u.exit()),n===e.promise?c(x("Promise-chain cycle")):(a=S(n))?a.call(n,s,c):s(n)):c(r)}catch(t){c(t)}};n.length>a;)i(n[a++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){v.call(s,function(){var e,n,r,o=t._v;if(N(t)&&(e=$(function(){y?_.emit("unhandledRejection",o,t):(n=s.onunhandledrejection)?n({promise:t,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=y||N(t)?2:1),t._a=void 0,e)throw e.error})},N=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if((e=n[r++]).fail||!N(e.promise))return!1;return!0},R=function(t){v.call(s,function(){var e;y?_.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),k(e,!0))},L=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=S(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,c(L,r,1),c(M,r,1))}catch(t){M.call(r,t)}}):(n._v=t,n._s=1,k(n,!1))}catch(t){M.call({_w:n,_d:!1},t)}}};F||(w=function(t){h(this,w,b,"_h"),f(t),r.call(this);try{t(c(L,this,1),c(M,this,1))}catch(t){M.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(96)(w.prototype,{then:function(t,e){var n=U(m(this,w));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=y?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&k(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),B=function(){var t=new r;this.promise=t,this.resolve=c(L,t,1),this.reject=c(M,t,1)}),l(l.G+l.W+l.F*!F,{Promise:w}),n(110)(w,b),n(97)(b),a=n(4)[b],l(l.S+l.F*!F,b,{reject:function(t){var e=U(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(i||!F),b,{resolve:function(t){if(t instanceof w&&j(t.constructor,this))return t;var e=U(this);return(0,e.resolve)(t),e.promise}}),l(l.S+l.F*!(F&&n(94)(function(t){w.all(t).catch(P)})),b,{all:function(t){var e=this,n=U(e),r=n.resolve,o=n.reject,a=$(function(){var n=[],a=0,i=1;p(t,!1,function(t){var s=a++,c=!1;n.push(void 0),i++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--i||r(n))},o)}),--i||r(n)});return a&&o(a.error),n.promise},race:function(t){var e=this,n=U(e),r=n.reject,o=$(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},101:function(t,e,n){t.exports=n(0)(10)},102:function(t,e,n){t.exports=n(0)(119)},103:function(t,e,n){t.exports=n(0)(130)},104:function(t,e,n){t.exports=n(0)(143)},105:function(t,e,n){t.exports=n(0)(146)},106:function(t,e,n){t.exports=n(0)(147)},107:function(t,e,n){t.exports=n(0)(151)},108:function(t,e,n){t.exports=n(0)(19)},109:function(t,e,n){t.exports=n(0)(28)},110:function(t,e,n){t.exports=n(0)(30)},111:function(t,e,n){t.exports=n(0)(55)},112:function(t,e,n){t.exports=n(0)(74)},120:function(t,e,n){"use strict";var r=n(75),o=n.n(r),a=n(74),i=(n(72),n(72)),s=a.a.nethost,c=a.a.downHost;e.a={addBrand:function(t){var e=s+"operation-mall/brand/createBrand";return n.i(i.a)(e,t).then(function(t){return o.a.resolve(t.data||t)},function(t){return o.a.reject(t.data||t)})},getTableList:function(t){var e=s+"operation-mall/brand/getBrandList";return n.i(i.a)(e,t).then(function(t){return o.a.resolve(t)},function(t){return o.a.reject(t)})},getDetails:function(t){var e=s+"operation-mall/brand/getBrandById?id="+t;return n.i(i.a)(e,t).then(function(t){return o.a.resolve(t)},function(t){return o.a.reject(t)})},updateBrand:function(t){var e=s+"operation-mall/brand/updateBrand";return n.i(i.a)(e,t).then(function(t){return o.a.resolve(t)},function(t){return o.a.reject(t)})},deleteList:function(t){var e=s+"operation-mall/brand/deletedBrand";return n.i(i.a)(e,t).then(function(t){return o.a.resolve(t)},function(t){return o.a.reject(t)})},downLoad:function(t){var e=c+"operation-mall/brand/downExcel?brandId="+t;window.location.href=e}}},133:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),o=n.n(r),a=n(86),i=n.n(a),s=n(120),c=n(74);e.default={data:function(){return{disable:!1,noUpdate:!1,labelsTypeOptions:[],isUpload:!1,uploadimgUrl:c.a.netImg+"prefer/api/fileUploadOne",imagePath:"",buttonStatus:0,tableForm:{chName:"",enName:"",logo:""},rules:{chName:[{required:!0,message:"请输入中文名称",trigger:"blur"}],logo:[{required:!0,message:"请上传图片",trigger:"blur"}]}}},created:function(){var t=this.$route.name||"";"addBrand"===t||("checkBrand"===t?this.getDetails(t):"updateBrand"===t&&(this.noUpdate=!0,this.getDetails(t)))},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;2===e.buttonStatus?e.addBrand():e.$message.error("请先上传图片!")})},cancel:function(){this.$router.go(-1)},addBrand:function(){var t=this,e=this.handparams(),n=this.$route.name||"";"addBrand"===n?s.a.addBrand(e).then(function(e){"20000"===e.code?t.$router.go(-1):t.$message.error(e.message||e.subMsg||e.msg||"新增任务失败!")},function(e){t.$message.error(e.message||e.subMsg||e.msg||"请求服务器失败!")}):"updateBrand"===n&&s.a.updateBrand(e).then(function(e){"20000"===e.code?t.$router.go(-1):t.$message.error(e.message||e.subMsg||e.msg||"编辑任务失败!")},function(e){t.$message.error(e.message||e.msg||e.subMsg||"请求服务器连接失败!")})},getDetails:function(t){var e=this,n=this.$route.query.id;s.a.getDetails(n).then(function(n){var r=n.data||"";console.log("=====",r),e.tableForm=r,e.imagePath=e.tableForm.logo,e.buttonStatus=2,"checkBrand"===t&&(e.disable=!0)},function(t){e.$message.error(t.message||t.msg||t.subMsg||"请求服务器连接失败!")})},handparams:function(){return JSON.parse(i()(this.tableForm))},submitUpload:function(){this.imagePath?(this.buttonStatus=1,this.$refs.upload.submit()):this.$message.error("请先选择图片!")},handleAwardSuccess:function(t,e,n){this.buttonStatus=2,this.tableForm.logo="https://"+t.data,this.imagePath=this.tableForm.logo,this.isUpload=!0},photoSuccess:function(){this.$message.error("请先修改图片!")},handleAwardError:function(t,e,n){this.$message.error("图片上传失败!"),this.buttonStatus=0},beforeAwardUpload:function(t){var e=this,n="image/jpeg"===t.type||"image/png"===t.type,r=t.size/1024/1024<1,a=(t.naturalWidth<500&&t.naturalHeight,new o.a(function(e,n){var r=window.URL||window.webkitURL,o=new Image;o.onload=function(){o.width<=500&&o.height<=500?e():n()},o.src=r.createObjectURL(t)}).then(function(){return t},function(){return e.$message.error("图片尺寸必须在500px * 500px 以内!"),e.tableForm.logo="",e.imagePath=e.tableForm.logo,e.buttonStatus=0,e.isUpload=!1,o.a.reject()}));return n||(this.$message.error("上传图片只能是 JPG 或 PNG 格式!"),this.tableForm.logo="",this.imagePath=this.tableForm.logo,this.buttonStatus=0,this.isUpload=!1),r||(this.$message.error("上传图片大小不能超过 1MB!"),this.tableForm.logo="",this.imagePath=this.tableForm.logo,this.buttonStatus=0,this.isUpload=!1),n&&r&&a},handleRemove:function(t,e){0===e.length&&(this.imagePath="")},handlePreview:function(t){},fileOnChange:function(t,e){1!=e.length?this.imagePath=URL.createObjectURL(t.raw):!1===this.isUpload?this.imagePath=URL.createObjectURL(t.raw):this.imagePath=this.tableForm.logo,this.imagePath===this.tableForm.logo?this.buttonStatus=2:this.buttonStatus=0,0===e.length?(this.imagePath="",this.tableForm.logo=""):1===e.length?this.imagePath=URL.createObjectURL(e[0].raw):(this.buttonStatus=0,e.shift(),this.imagePath=URL.createObjectURL(e[0].raw))}}}},159:function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar{width:178px;height:178px;display:block}",""])},184:function(t,e,n){var r=n(159);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(2)("07d99226",r,!0)},211:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",{staticStyle:{"margin-left":"80px","margin-top":"40px"}},[n("el-form",{ref:"tableForm",attrs:{model:t.tableForm,"label-width":"120px",rules:t.rules}},[n("el-form-item",{attrs:{label:"中文名称",prop:"chName"}},[n("el-input",{staticClass:"w240",attrs:{disabled:t.disable||t.noUpdate,placeholder:"中文名称"},model:{value:t.tableForm.chName,callback:function(e){t.$set(t.tableForm,"chName",e)},expression:"tableForm.chName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"英文名称"}},[n("el-input",{staticClass:"w240",attrs:{disabled:t.disable,placeholder:"英文名称"},model:{value:t.tableForm.enName,callback:function(e){t.$set(t.tableForm,"enName",e)},expression:"tableForm.enName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"品牌logo",prop:"logo"}},[n("div",[n("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:t.uploadimgUrl,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"show-file-list":!1,"on-success":t.handleAwardSuccess,"on-error":t.handleAwardError,"before-upload":t.beforeAwardUpload,"on-change":t.fileOnChange,"auto-upload":!1,disabled:t.disable}},[t.imagePath?n("img",{staticClass:"avatar",attrs:{disabled:t.disable,src:t.imagePath}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),n("div",[0!==t.buttonStatus||t.disable?1!==t.buttonStatus||t.disable?2!==t.buttonStatus||t.disable?t._e():n("el-button",{attrs:{size:"small",type:"success"},on:{click:t.photoSuccess}},[t._v("上传成功")]):n("el-button",{attrs:{type:"primary",loading:!0,size:"small"}},[t._v("上传中")]):n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitUpload}},[t._v("上传图片")])],1),t._v(" "),n("div",[t._v("*图片尺寸:500px*500px以内，格式为PNG或JPG")])]),t._v(" "),t.disable?t._e():n("el-form-item",{staticClass:"text-center"},[n("el-button",{staticClass:"mt20",attrs:{type:"primary"},on:{click:function(e){t.submitForm("tableForm")}}},[t._v("提交")]),t._v(" "),n("el-button",{staticClass:"mt20",attrs:{type:"primary"},on:{click:function(e){t.cancel()}}},[t._v("取消")])],1)],1)],1)]],2)},staticRenderFns:[]}},51:function(t,e,n){var r=n(20)(n(133),n(211),function(t){n(184)},null,null);t.exports=r.exports},71:function(t,e,n){t.exports=n(0)(12)},72:function(t,e,n){"use strict";n.d(e,"b",function(){return h}),n.d(e,"a",function(){return p});var r=n(102),o=n.n(r),a=n(75),i=n.n(a),s=n(112),c=n.n(s),u=(n(74),n(5));n.n(u),n(85),window.sessionStorage.getItem("ak")||window.localStorage.getItem("ak");window.Promise||(window.Promise=i.a);var l=function(t){var e=t.data;return e.code,0===e.code?e:2e4==e.code?e:302!==e.code&&(5===e.code&&u.Message.error("系统维护中，请稍后再试。"),i.a.reject(t.data,t))},d=function(t){return i.a.reject(t.response.data||{},t.response)},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=void 0===e?{}:e,r=t.params,a=void 0===r?{}:r,i=t.method,s=void 0===i?"":i,u=t.url,f=void 0===u?"":u,h=t.headers,p=void 0===h?{}:h,m={method:s,url:f,data:n,params:a,responseType:"json",withCredentials:!0};return m.headers={"Content-Type":"application/json; charset=UTF-8",access_token:function(){for(var t=(document.cookie||"x-access-token=5C832D5723B675A760DB5B7A6B901229").split("; "),e=0;e<t.length;e++){var n=t[e].split("=");if("x-access-token"==n[0])return n[1]}}()},o()(m.headers,p),o()(m.params,{_:(new Date).getTime()}),c()(m).then(l,d)},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f({url:t,method:"GET",params:e,headers:n})},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f({url:t,method:"POST",data:e,headers:n})}},73:function(t,e,n){t.exports=n(0)(5)},74:function(t,e,n){"use strict";var r={};r.netImg="//operation.allcitygo.com/",r.downHost="//operation.allcitygo.com/",r.nethost="//bmapi.allcitygo.com:13002/op/",r.netGoodDetail="//money.allcitygo.com/shopping/#/goodDetail?goodsId=",r.netImgMore="//challenge-backstage.allcitygo.com/",e.a=r},75:function(t,e,n){t.exports={default:n(88),__esModule:!0}},76:function(t,e,n){t.exports=n(0)(128)},77:function(t,e,n){t.exports=n(0)(17)},78:function(t,e,n){t.exports=n(0)(54)},79:function(t,e,n){var r=n(78),o=n(71)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},80:function(t,e,n){var r,o,a,i=n(76),s=n(91),c=n(103),u=n(111),l=n(73),d=l.process,f=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,m=0,v={},g="onreadystatechange",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},x=function(t){b.call(t.data)};f&&h||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},h=function(t){delete v[t]},"process"==n(78)(d)?r=function(t){d.nextTick(i(b,t,1))}:p?(a=(o=new p).port2,o.port1.onmessage=x,r=i(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",x,!1)):r=g in u("script")?function(t){c.appendChild(u("script"))[g]=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(i(b,t,1),0)}),t.exports={set:f,clear:h}},81:function(t,e,n){t.exports=n(0)(125)},82:function(t,e,n){t.exports=n(0)(27)},83:function(t,e,n){t.exports=n(0)(11)},84:function(t,e,n){t.exports=n(0)(9)},85:function(t,e,n){"use strict";var r=n(75),o=(n.n(r),n(74));n(72),n(72),o.a.nethost},86:function(t,e,n){t.exports={default:n(87),__esModule:!0}},87:function(t,e,n){var r=n(4),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},88:function(t,e,n){n(105),n(106),n(107),n(100),t.exports=n(4).Promise},89:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},90:function(t,e,n){var r=n(76),o=n(93),a=n(92),i=n(77),s=n(104),c=n(99),u={},l={};(e=t.exports=function(t,e,n,d,f){var h,p,m,v,g=f?function(){return t}:c(t),b=r(n,d,e?2:1),x=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(a(g)){for(h=s(t.length);h>x;x++)if((v=e?b(i(p=t[x])[0],p[1]):b(t[x]))===u||v===l)return v}else for(m=g.call(t);!(p=m.next()).done;)if((v=o(m,b,p.value,e))===u||v===l)return v}).BREAK=u,e.RETURN=l},91:function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},92:function(t,e,n){var r=n(82),o=n(71)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},93:function(t,e,n){var r=n(77);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},94:function(t,e,n){var r=n(71)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},t(a)}catch(t){}return n}},95:function(t,e,n){var r=n(73),o=n(80).set,a=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,c="process"==n(78)(i);t.exports=function(){var t,e,n,u=function(){var r,o;for(c&&(r=i.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){i.nextTick(u)};else if(a){var l=!0,d=document.createTextNode("");new a(u).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(u)}}else n=function(){o.call(r,u)};return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},96:function(t,e,n){var r=n(101);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},97:function(t,e,n){"use strict";var r=n(73),o=n(4),a=n(83),i=n(84),s=n(71)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];i&&e&&!e[s]&&a.f(e,s,{configurable:!0,get:function(){return this}})}},98:function(t,e,n){var r=n(77),o=n(81),a=n(71)("species");t.exports=function(t,e){var n,i=r(t).constructor;return void 0===i||void 0==(n=r(i)[a])?e:o(n)}},99:function(t,e,n){var r=n(79),o=n(71)("iterator"),a=n(82);t.exports=n(4).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||a[r(t)]}}});