webpackJsonp([11],{100:function(t,e,n){"use strict";var r,a,o,s=n(109),i=n(73),c=n(76),l=n(79),u=n(21),f=n(108),h=n(81),d=n(89),p=n(90),m=n(98),v=n(80).set,g=n(95)(),b="Promise",_=i.TypeError,x=i.process,y=i[b],w="process"==l(x=i.process),S=function(){},C=!!function(){try{var t=y.resolve(1),e=(t.constructor={})[n(71)("species")]=function(t){t(S,S)};return(w||"function"==typeof PromiseRejectionEvent)&&t.then(S)instanceof e}catch(t){}}(),P=function(t,e){return t===e||t===y&&e===o},k=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},T=function(t){return P(y,t)?new j(t):new a(t)},j=a=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw _("Bad Promise constructor");e=t,n=r}),this.resolve=h(e),this.reject=h(n)},I=function(t){try{t()}catch(t){return{error:t}}},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var r=t._v,a=1==t._s,o=0,s=function(e){var n,o,s=a?e.ok:e.fail,i=e.resolve,c=e.reject,l=e.domain;try{s?(a||(2==t._h&&z(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&l.exit()),n===e.promise?c(_("Promise-chain cycle")):(o=k(n))?o.call(n,i,c):i(n)):c(r)}catch(t){c(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&N(t)})}},N=function(t){v.call(i,function(){var e,n,r,a=t._v;if($(t)&&(e=I(function(){w?x.emit("unhandledRejection",a,t):(n=i.onunhandledrejection)?n({promise:t,reason:a}):(r=i.console)&&r.error&&r.error("Unhandled promise rejection",a)}),t._h=w||$(t)?2:1),t._a=void 0,e)throw e.error})},$=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if((e=n[r++]).fail||!$(e.promise))return!1;return!0},z=function(t){v.call(i,function(){var e;w?x.emit("rejectionHandled",t):(e=i.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},M=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can't be resolved itself");(e=k(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,c(M,r,1),c(D,r,1))}catch(t){D.call(r,t)}}):(n._v=t,n._s=1,L(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};C||(y=function(t){d(this,y,b,"_h"),h(t),r.call(this);try{t(c(M,this,1),c(D,this,1))}catch(t){D.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(96)(y.prototype,{then:function(t,e){var n=T(m(this,y));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=w?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),j=function(){var t=new r;this.promise=t,this.resolve=c(M,t,1),this.reject=c(D,t,1)}),u(u.G+u.W+u.F*!C,{Promise:y}),n(110)(y,b),n(97)(b),o=n(4)[b],u(u.S+u.F*!C,b,{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),u(u.S+u.F*(s||!C),b,{resolve:function(t){if(t instanceof y&&P(t.constructor,this))return t;var e=T(this);return(0,e.resolve)(t),e.promise}}),u(u.S+u.F*!(C&&n(94)(function(t){y.all(t).catch(S)})),b,{all:function(t){var e=this,n=T(e),r=n.resolve,a=n.reject,o=I(function(){var n=[],o=0,s=1;p(t,!1,function(t){var i=o++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[i]=t,--s||r(n))},a)}),--s||r(n)});return o&&a(o.error),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,a=I(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return a&&r(a.error),n.promise}})},101:function(t,e,n){t.exports=n(0)(10)},102:function(t,e,n){t.exports=n(0)(119)},103:function(t,e,n){t.exports=n(0)(130)},104:function(t,e,n){t.exports=n(0)(143)},105:function(t,e,n){t.exports=n(0)(146)},106:function(t,e,n){t.exports=n(0)(147)},107:function(t,e,n){t.exports=n(0)(151)},108:function(t,e,n){t.exports=n(0)(19)},109:function(t,e,n){t.exports=n(0)(28)},110:function(t,e,n){t.exports=n(0)(30)},111:function(t,e,n){t.exports=n(0)(55)},112:function(t,e,n){t.exports=n(0)(74)},123:function(t,e,n){"use strict";var r=n(75),a=n.n(r),o=n(74),s=(n(72),n(72)),i=o.a.nethost,c=o.a.downHost;e.a={getTableList:function(t){var e=i+"operation-mall/shop/getShopList";return n.i(s.a)(e,t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},addSalesroom:function(t){var e=i+"operation-mall/shop/addShop";return n.i(s.a)(e,t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},updateSalesroom:function(t){var e=i+"operation-mall/shop/updateShop";return n.i(s.a)(e,t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},getDetails:function(t){var e=i+"operation-mall/shop/getShopDetail?id="+t;return n.i(s.b)(e).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},deleteList:function(t){var e=i+"operation-mall/shop/deletedShop";return n.i(s.a)(e,t).then(function(t){return a.a.resolve(t)},function(t){return a.a.reject(t)})},downLoadClick:function(t,e,n,r,a){var o=c+"operation-mall/shop/downShopExcel?brandName="+t+"&shopName="+e+"&shopId="+n+"&page="+r+"&pageSize="+a;console.log("downLoadUrl====",o),window.location.href=o}}},148:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),a=n.n(r),o=n(123),s=n(74);e.default={data:function(){return{searchParams:{brandName:"",shopName:"",shopId:"",page:1,pageSize:10},multipleSelection:[],selectedIDs:[],uploadimgUrl:s.a.netImg+"operation-mall/shop/importShop",statusChangeParams:{id:0,status:0},labelDataTable:[],totalSize:0}},created:function(){this.getTableList()},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log("multipleSelection",this.multipleSelection);var e=[];this.multipleSelection.map(function(t){e.push(t.id)}),this.selectedIDs=e,console.log("多选",this.selectedIDs)},importClick:function(){},downLoadClick:function(){o.a.downLoadClick(this.searchParams.brandName,this.searchParams.shopName,this.searchParams.shopId,this.searchParams.page,this.searchParams.pageSize)},deleteClick:function(){var t=this,e=this.selectedIDs;0!=e.length?o.a.deleteList(e).then(function(e){e.code&&"20000"===e.code?t.getTableList():t.$message.error(e.message||e.subMsg||e.msg||"服务器未返回数据!")},function(e){t.$message.error(e.message||e.msg||e.subMsg||"请求服务器失败!")}):this.$message.error("请先选择要删除的门店!")},searchClick:function(){this.searchParams.page=1,this.getTableList()},newAdd:function(){this.$router.push({name:"addSalesroom"})},labelCheck:function(t,e){this.$router.push({name:"checkSalesroom",query:{index:t,id:e.id}})},updateLabel:function(t,e){this.$router.push({name:"updateSalesroom",query:{index:t,id:e.id}})},updateStatus:function(t,e,n){var r=this;this.statusChangeParams.id=e.id,this.statusChangeParams.status=n;var a=this.handparams(this.statusChangeParams);o.a.upataStatus(a).then(function(t){"20000"===t.code?r.getTableList():r.$message.error(t.message||t.subMsg||t.msg||"修改商品状态失败!")},function(t){r.$message.error(t.message||t.subMsg||t.msg||"请求服务器失败!")})},handleSizeChange:function(t){this.searchParams.pageSize=t,this.getTableList()},handleCurrentChange:function(t){this.searchParams.page=t,this.getTableList()},getTableList:function(){var t=this;""!=this.searchParams.leafThree?this.searchParams.categoryId=this.searchParams.leafThree:""!=this.searchParams.leafTwo?this.searchParams.categoryId=this.searchParams.leafTwo:""!=this.searchParams.leafOne?this.searchParams.categoryId=this.searchParams.leafOne:this.searchParams.categoryId="";var e=this.handparams(this.searchParams);o.a.getTableList(e).then(function(e){if("20000"===e.code){if(e.data instanceof Array){var n=e.data;t.labelDataTable=n}else t.labelDataTable=[];t.totalSize=e.totalSize||0}else t.$message.error(e.message||e.msg||e.subMsg||"服务器未返回数据!")},function(e){t.$message.error(e.message||e.msg||e.subMsg||"请求服务器失败!")})},handparams:function(t){var e=JSON.parse(a()(t));for(var n in e)""===e[n]&&delete e[n];return e},handleAwardSuccess:function(t,e,n){console.log("res===",t),"20000"===t.code?(this.$message.success(t.data||t.msg||""),this.getTableList()):this.$message.success(t.data||t.msg||"")},handleAwardError:function(t,e,n){this.$message.error(t)},beforeAwardUpload:function(t){}}}},160:function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".foot-page[data-v-26189202]{float:right;margin-top:10px;margin-bottom:50px}.select[data-v-26189202]{background-color:#fff;background-image:none;border-radius:4px;border:1px solid #dcdfe6;box-sizing:border-box;color:#606266;display:inline-block;font-size:inherit;line-height:40px;outline:none;transition:border-color .2s cubic-bezier(.645,.045,.355,1);width:160px;margin-right:20px;margin-top:20px}",""])},185:function(t,e,n){var r=n(160);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(2)("5456cf11",r,!0)},212:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",[n("el-row",{staticClass:"mr20"},[n("el-col",{attrs:{span:24}},[n("span",{staticClass:"float-left ml20 mt20"},[t._v("门店管理")])])],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"float-left"},[n("el-input",{staticClass:"ml20 mt20",attrs:{placeholder:"品牌名称"},model:{value:t.searchParams.brandName,callback:function(e){t.$set(t.searchParams,"brandName",e)},expression:"searchParams.brandName"}})],1),t._v(" "),n("div",{staticClass:"float-left ml20"},[n("el-input",{staticClass:"ml20 mt20",attrs:{placeholder:"门店名称"},model:{value:t.searchParams.shopName,callback:function(e){t.$set(t.searchParams,"shopName",e)},expression:"searchParams.shopName"}})],1),t._v(" "),n("div",{staticClass:"float-left ml20"},[n("el-input",{staticClass:"ml20 mt20",attrs:{placeholder:"门店ID"},model:{value:t.searchParams.shopId,callback:function(e){t.$set(t.searchParams,"shopId",e)},expression:"searchParams.shopId"}})],1),t._v(" "),n("div",{staticClass:"float-left ml20 w120"},[n("el-button",{staticClass:"ml20 mt20",on:{click:t.searchClick}},[t._v("确定")])],1)]),t._v(" "),n("el-col",[n("div",{staticClass:"float-left ml20"},[n("el-button",{staticClass:"mt20",attrs:{type:"primary"},on:{click:t.downLoadClick}},[t._v("下载数据")])],1),t._v(" "),n("div",{staticClass:"float-left ml20"},[n("el-upload",{attrs:{action:t.uploadimgUrl,"show-file-list":!1,"on-success":t.handleAwardSuccess,"on-error":t.handleAwardError,"before-upload":t.beforeAwardUpload,"auto-upload":!0}},[n("el-button",{staticClass:"mt20",attrs:{type:"primary"}},[t._v("批量导入")])],1)],1),t._v(" "),n("div",{staticClass:"float-left ml20"},[n("el-button",{staticClass:"mt20",attrs:{type:"primary"},on:{click:t.newAdd}},[t._v("新建")])],1),t._v(" "),n("div",{staticClass:"float-left ml20"},[n("el-button",{staticClass:"mt20",attrs:{type:"danger"},on:{click:t.deleteClick}},[t._v("删除")])],1)])],1),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[n("el-table",{attrs:{data:t.labelDataTable},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"id",label:"门店ID","min-width":"80",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"brandName",label:"品牌名称","min-width":"80",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"shopName",label:"门店名称","min-width":"80",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"operation",label:"操作","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{display:"flex","justify-content":"center"}},[1!=e.row.status?n("el-button",{attrs:{type:"text"},on:{click:function(n){t.labelCheck(e.$index,e.row)}}},[t._v("查看")]):t._e(),t._v(" "),1!=e.row.status?n("el-button",{attrs:{type:"text"},on:{click:function(n){t.updateLabel(e.$index,e.row)}}},[t._v("编辑")]):t._e()],1)]}}])})],1)],1),t._v(" "),n("div",{staticClass:"foot-page"},[n("el-pagination",{attrs:{"current-page":t.searchParams.page,"page-sizes":[10,20,30,50,100],"page-size":t.searchParams.pageSize,layout:"total, prev, pager,next,sizes,jumper ",total:t.totalSize},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]],2)},staticRenderFns:[]}},66:function(t,e,n){var r=n(20)(n(148),n(212),function(t){n(185)},"data-v-26189202",null);t.exports=r.exports},71:function(t,e,n){t.exports=n(0)(12)},72:function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return p});var r=n(102),a=n.n(r),o=n(75),s=n.n(o),i=n(112),c=n.n(i),l=(n(74),n(5));n.n(l),n(85),window.sessionStorage.getItem("ak")||window.localStorage.getItem("ak");window.Promise||(window.Promise=s.a);var u=function(t){var e=t.data;return e.code,0===e.code?e:2e4==e.code?e:302!==e.code&&(5===e.code&&l.Message.error("系统维护中，请稍后再试。"),s.a.reject(t.data,t))},f=function(t){return s.a.reject(t.response.data||{},t.response)},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=void 0===e?{}:e,r=t.params,o=void 0===r?{}:r,s=t.method,i=void 0===s?"":s,l=t.url,h=void 0===l?"":l,d=t.headers,p=void 0===d?{}:d,m={method:i,url:h,data:n,params:o,responseType:"json",withCredentials:!0};return m.headers={"Content-Type":"application/json; charset=UTF-8",access_token:function(){for(var t=(document.cookie||"x-access-token=5C832D5723B675A760DB5B7A6B901229").split("; "),e=0;e<t.length;e++){var n=t[e].split("=");if("x-access-token"==n[0])return n[1]}}()},a()(m.headers,p),a()(m.params,{_:(new Date).getTime()}),c()(m).then(u,f)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h({url:t,method:"GET",params:e,headers:n})},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h({url:t,method:"POST",data:e,headers:n})}},73:function(t,e,n){t.exports=n(0)(5)},74:function(t,e,n){"use strict";var r={};r.netImg="//operation.allcitygo.com/",r.downHost="//operation.allcitygo.com/",r.nethost="//bmapi.allcitygo.com:13002/op/",r.netGoodDetail="//money.allcitygo.com/shopping/#/goodDetail?goodsId=",r.netImgMore="//challenge-backstage.allcitygo.com/",e.a=r},75:function(t,e,n){t.exports={default:n(88),__esModule:!0}},76:function(t,e,n){t.exports=n(0)(128)},77:function(t,e,n){t.exports=n(0)(17)},78:function(t,e,n){t.exports=n(0)(54)},79:function(t,e,n){var r=n(78),a=n(71)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},80:function(t,e,n){var r,a,o,s=n(76),i=n(91),c=n(103),l=n(111),u=n(73),f=u.process,h=u.setImmediate,d=u.clearImmediate,p=u.MessageChannel,m=0,v={},g="onreadystatechange",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){b.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){i("function"==typeof t?t:Function(t),e)},r(m),m},d=function(t){delete v[t]},"process"==n(78)(f)?r=function(t){f.nextTick(s(b,t,1))}:p?(o=(a=new p).port2,a.port1.onmessage=_,r=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",_,!1)):r=g in l("script")?function(t){c.appendChild(l("script"))[g]=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:h,clear:d}},81:function(t,e,n){t.exports=n(0)(125)},82:function(t,e,n){t.exports=n(0)(27)},83:function(t,e,n){t.exports=n(0)(11)},84:function(t,e,n){t.exports=n(0)(9)},85:function(t,e,n){"use strict";var r=n(75),a=(n.n(r),n(74));n(72),n(72),a.a.nethost},86:function(t,e,n){t.exports={default:n(87),__esModule:!0}},87:function(t,e,n){var r=n(4),a=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},88:function(t,e,n){n(105),n(106),n(107),n(100),t.exports=n(4).Promise},89:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},90:function(t,e,n){var r=n(76),a=n(93),o=n(92),s=n(77),i=n(104),c=n(99),l={},u={};(e=t.exports=function(t,e,n,f,h){var d,p,m,v,g=h?function(){return t}:c(t),b=r(n,f,e?2:1),_=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=i(t.length);d>_;_++)if((v=e?b(s(p=t[_])[0],p[1]):b(t[_]))===l||v===u)return v}else for(m=g.call(t);!(p=m.next()).done;)if((v=a(m,b,p.value,e))===l||v===u)return v}).BREAK=l,e.RETURN=u},91:function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},92:function(t,e,n){var r=n(82),a=n(71)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[a]===t)}},93:function(t,e,n){var r=n(77);t.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},94:function(t,e,n){var r=n(71)("iterator"),a=!1;try{var o=[7][r]();o.return=function(){a=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},95:function(t,e,n){var r=n(73),a=n(80).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,i=r.Promise,c="process"==n(78)(s);t.exports=function(){var t,e,n,l=function(){var r,a;for(c&&(r=s.domain)&&r.exit();t;){a=t.fn,t=t.next;try{a()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(l)};else if(o){var u=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=u=!u}}else if(i&&i.resolve){var h=i.resolve();n=function(){h.then(l)}}else n=function(){a.call(r,l)};return function(r){var a={fn:r,next:void 0};e&&(e.next=a),t||(t=a,n()),e=a}}},96:function(t,e,n){var r=n(101);t.exports=function(t,e,n){for(var a in e)n&&t[a]?t[a]=e[a]:r(t,a,e[a]);return t}},97:function(t,e,n){"use strict";var r=n(73),a=n(4),o=n(83),s=n(84),i=n(71)("species");t.exports=function(t){var e="function"==typeof a[t]?a[t]:r[t];s&&e&&!e[i]&&o.f(e,i,{configurable:!0,get:function(){return this}})}},98:function(t,e,n){var r=n(77),a=n(81),o=n(71)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:a(n)}},99:function(t,e,n){var r=n(79),a=n(71)("iterator"),o=n(82);t.exports=n(4).getIteratorMethod=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||o[r(t)]}}});